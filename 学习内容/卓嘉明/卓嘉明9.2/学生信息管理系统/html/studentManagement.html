<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../layui/css/layui.css">
    <link rel="stylesheet" href="../css/reset.css">
    <script src="../layui/layui.js"></script>
</head>
<body>
<div class="layui-fluid">

    <!--    layui卡片-->
    <div class="layui-card">
        <div class="layui-card-header">学员管理列表</div>
        <div class="layui-card-body">

            <!--            结合栅格化布局完成页面布局-->
            <div class="layui-row layui-col-space10">

                <!--                放置添加按钮-->
                <div class="layui-col-xsl layui-col-xs-offset11">
                    <button class="layui-btn layui-btn-fluid">
                        <i class="layui-icon layui-icon-add-1"></i>
                        添加
                    </button>
                </div>

                <div class="layui-col-xs12">
                    <!--                    lay-filter属性是为了做识别-->
                    <table id="data_Student" lay-filter="student"></table>
                </div>
                <!--放置学员列表-->
                <!--                lay-skin:line(行边宽）|row-->
                <!--                <table class="layui-table" lay-even="">-->
                <!--                    &lt;!&ndash;                    固定列宽&ndash;&gt;-->
                <!--                    <colgroup>-->
                <!--                        <col width="100">-->
                <!--                        <col width="60">-->
                <!--                        <col width="60">-->
                <!--                        <col width="180">-->
                <!--                        <col width="180">-->
                <!--                        <col>-->
                <!--                        <col width="240">-->
                <!--                    </colgroup>-->
                <!--                    <thead>-->
                <!--                    <tr>-->
                <!--                        <th>姓名</th>-->
                <!--                        <th>性别</th>-->
                <!--                        <th>年龄</th>-->
                <!--                        <th>学号</th>-->
                <!--                        <th>班级</th>-->
                <!--                        <th>签名</th>-->
                <!--                        <th>操作</th>-->
                <!--                    </tr>-->
                <!--                    </thead>-->
                <!--                    <tbody>-->
                <!--                    <tr>-->
                <!--                        <td>卓嘉明</td>-->
                <!--                        <td>男</td>-->
                <!--                        <td>20</td>-->
                <!--                        <td>6017203260</td>-->
                <!--                        <td>软件三班</td>-->
                <!--                        <td>飞驰人生</td>-->
                <!--                        <td>-->
                <!--                            <div class="layui-btn-group">-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-primary">-->
                <!--                                <i class="layui-icon layui-icon-camera"></i>查看-->
                <!--                            </button>-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-warm">-->
                <!--                                    <i class="layui-icon layui-icon-edit"></i>编辑-->
                <!--                                </button>-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-danger">-->
                <!--                                    <i class="layui-icon layui-icon-delete"></i>删除-->
                <!--                                </button>-->
                <!--                            </div>-->
                <!--                        </td>-->
                <!--                    </tr>-->
                <!--                    <tr>-->
                <!--                        <td>卓嘉明</td>-->
                <!--                        <td>男</td>-->
                <!--                        <td>20</td>-->
                <!--                        <td>6017203260</td>-->
                <!--                        <td>软件三班</td>-->
                <!--                        <td>飞驰人生</td>-->
                <!--                        <td>-->
                <!--                            <div class="layui-btn-group">-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-primary">-->
                <!--                                    <i class="layui-icon layui-icon-camera"></i>查看-->
                <!--                                </button>-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-warm">-->
                <!--                                    <i class="layui-icon layui-icon-edit"></i>编辑-->
                <!--                                </button>-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-danger">-->
                <!--                                    <i class="layui-icon layui-icon-delete"></i>删除-->
                <!--                                </button>-->
                <!--                            </div>-->
                <!--                        </td>-->
                <!--                    </tr>-->
                <!--                    <tr>-->
                <!--                        <td>卓嘉明</td>-->
                <!--                        <td>男</td>-->
                <!--                        <td>20</td>-->
                <!--                        <td>6017203260</td>-->
                <!--                        <td>软件三班</td>-->
                <!--                        <td>飞驰人生</td>-->
                <!--                        <td>-->
                <!--                            <div class="layui-btn-group">-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-primary">-->
                <!--                                    <i class="layui-icon layui-icon-camera"></i>查看-->
                <!--                                </button>-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-warm">-->
                <!--                                    <i class="layui-icon layui-icon-edit"></i>编辑-->
                <!--                                </button>-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-danger">-->
                <!--                                    <i class="layui-icon layui-icon-delete"></i>删除-->
                <!--                                </button>-->
                <!--                            </div>-->
                <!--                        </td>-->
                <!--                    </tr>-->
                <!--                    <tr>-->
                <!--                        <td>卓嘉明</td>-->
                <!--                        <td>男</td>-->
                <!--                        <td>20</td>-->
                <!--                        <td>6017203260</td>-->
                <!--                        <td>软件三班</td>-->
                <!--                        <td>飞驰人生</td>-->
                <!--                        <td>-->
                <!--                            <div class="layui-btn-group">-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-primary">-->
                <!--                                    <i class="layui-icon layui-icon-camera"></i>查看-->
                <!--                                </button>-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-warm">-->
                <!--                                    <i class="layui-icon layui-icon-edit"></i>编辑-->
                <!--                                </button>-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-danger">-->
                <!--                                    <i class="layui-icon layui-icon-delete"></i>删除-->
                <!--                                </button>-->
                <!--                            </div>-->
                <!--                        </td>-->
                <!--                    </tr>-->
                <!--                    <tr>-->
                <!--                        <td>卓嘉明</td>-->
                <!--                        <td>男</td>-->
                <!--                        <td>20</td>-->
                <!--                        <td>6017203260</td>-->
                <!--                        <td>软件三班</td>-->
                <!--                        <td>飞驰人生</td>-->
                <!--                        <td>-->
                <!--                            <div class="layui-btn-group">-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-primary">-->
                <!--                                    <i class="layui-icon layui-icon-camera"></i>查看-->
                <!--                                </button>-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-warm">-->
                <!--                                    <i class="layui-icon layui-icon-edit"></i>编辑-->
                <!--                                </button>-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-danger">-->
                <!--                                    <i class="layui-icon layui-icon-delete"></i>删除-->
                <!--                                </button>-->
                <!--                            </div>-->
                <!--                        </td>-->
                <!--                    </tr>-->
                <!--                    <tr>-->
                <!--                        <td>卓嘉明</td>-->
                <!--                        <td>男</td>-->
                <!--                        <td>20</td>-->
                <!--                        <td>6017203260</td>-->
                <!--                        <td>软件三班</td>-->
                <!--                        <td>飞驰人生</td>-->
                <!--                        <td>-->
                <!--                            <div class="layui-btn-group">-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-primary">-->
                <!--                                    <i class="layui-icon layui-icon-camera"></i>查看-->
                <!--                                </button>-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-warm">-->
                <!--                                    <i class="layui-icon layui-icon-edit"></i>编辑-->
                <!--                                </button>-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-danger">-->
                <!--                                    <i class="layui-icon layui-icon-delete"></i>删除-->
                <!--                                </button>-->
                <!--                            </div>-->
                <!--                        </td>-->
                <!--                    </tr>-->
                <!--                    <tr>-->
                <!--                        <td>卓嘉明</td>-->
                <!--                        <td>男</td>-->
                <!--                        <td>20</td>-->
                <!--                        <td>6017203260</td>-->
                <!--                        <td>软件三班</td>-->
                <!--                        <td>飞驰人生</td>-->
                <!--                        <td>-->
                <!--                            <div class="layui-btn-group">-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-primary">-->
                <!--                                    <i class="layui-icon layui-icon-camera"></i>查看-->
                <!--                                </button>-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-warm">-->
                <!--                                    <i class="layui-icon layui-icon-edit"></i>编辑-->
                <!--                                </button>-->
                <!--                                <button class="layui-btn layui-btn-xs layui-btn-danger">-->
                <!--                                    <i class="layui-icon layui-icon-delete"></i>删除-->
                <!--                                </button>-->
                <!--                            </div>-->
                <!--                        </td>-->
                <!--                    </tr>-->
                <!--                </table>-->
            </div>
        </div>

    </div>
</div>

<script type="text/html" id="tpl_Operate">
    <div class="layui-btn-group">
        <button class="layui-btn layui-btn-xs layui-btn-primary" lay-event="view">
            <i class="layui-icon layui-icon-camera"></i>查看
        </button>
        <button class="layui-btn layui-btn-xs layui-btn-warm" lay-event="updata">
            <i class="layui-icon layui-icon-edit"></i>编辑
        </button>
        <button class="layui-btn layui-btn-xs layui-btn-danger" lay-event="delete">
            <i class="layui-icon layui-icon-delete"></i>删除
        </button>
    </div>

</script>
<script>
    // layui.use是layui.js中公用的办法，可以直接在外部调用
    // 1.layui.use方法为了将组件js动态引入进来，提供对应的动态数据交互
    // 2.layui.use(mode,callback),mode:引入模块的名称，callback为回调函数
    // 3.整个页面的js代码通常是写在回调函数当中


    layui.use(['table', 'jquery', 'layer'], function () {
// 初始化动态js组件，为了调用其中的方法
        var table = layui.table,
            $ = layui.$,
            //判断是不是最顶层的页面
            layer = parent===self?layui.layer:top.layui.layer;
// 初始化学生数据（从后台远程加载
        table.render({
            elem: '#data_Student',//需要动态渲染的DOM元素
            url: 'http://140.143.186.38:8082/api/Student',//获取数据连接
            page: true,//开启分页
            cols: [[
                {
                    field: 'studentName',//绑定需要显示的字段
                    title: '姓名',//表头显示标题
                    width: '10%',//宽度
                    align: 'center',//对齐方式
                },
                {field: 'studentNo', title: '学号', width: '10%', align: 'center'},
                {field: 'age', title: '年龄', width: '7%', align: 'center'},
                {
                    field: 'gender', title: '性别', width: '7%', align: 'center', templet: function (data) {
                        var gender = data.gender;
                        var htmlStr = '';
                        switch (gender) {
                            case 1:
                                htmlStr = '<div style="color: cornflowerblue"><i class="layui-icon layui-icon-male"></i>>男</div>'
                                break;
                            case 2:
                                htmlStr = '<div style="color: deeppink"><i class="layui-icon layui-icon-female"></i>>女</div>'
                                break;
                        }
                        return htmlStr
                    }
                },
                {field: 'className', title: '所在班级', width: '15%'},
                {field: 'introduce', title: '个人简介', width: '30%'},
                {field: '操作', toolbar: '#tpl_Operate', align: 'center'}//最后一行不需要指定宽度，自动填充剩余的
            ]]
        });
//工具栏点击事件
        table.on('tool(student)', function (object) {
            //回调函数中携带的参数object可以获取当前行数数据，还有标记事件的
            var event = object.event;
            var data = object.data;

            if (event === 'delete') {

                layer.confirm(
                    '确定要删除这名学员吗？',
                    {
                        title: '信息提示',
                        icon: 3
                    },
                    function (layerIndex) {
                        //layerIndex是弹出层的的索引，关闭弹窗时需要用到
                        layer.close(layerIndex);
                        $.post('../json/delete.json', function (res) {
                            if (res.code === 0) {
                                layer.alert(res.data, {
                                    icon: 1,
                                    title: '信息提示'
                                })
                            } else {
                                layer.alert(res.data, {
                                    icon: 2,
                                    title: '错误提示'
                                })
                            }
                        })
                    }
                )


                //         if (confirm("确定要删除吗")) {
                //             $.post('../json/delete.json', function (res) {
                //                 if (res.code === 0) {
                //                     alert(res.data)
                //                 } else {
                //                     alert(res.msg)
                //                 }
                //             })
                //         }





            }

        })


    })

</script>


</body>
</html>






















